webpackJsonp([1],{"258w":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"header-container"},[a("vheader")],1),t._v(" "),a("div",{staticClass:"content-container"},[a("router-view")],1)])},o=[],i={render:n,staticRenderFns:o};e.a=i},"33wi":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map",attrs:{id:"map"}},[a("div",{staticClass:"record-panel"},[a("button",[t._v("当前地图级别"+t._s(t.zoom))]),t._v(" "),a("button",{attrs:{title:"查看已经搜集到记录"},on:{click:t.getSize}},[t._v("查看记录数")]),t._v(" "),a("button",{attrs:{title:"打开控制台后再点击"},on:{click:t.output}},[t._v("输出")])])])},o=[],i={render:n,staticRenderFns:o};e.a=i},"3GDu":function(t,e,a){"use strict";function n(t){a("mmY7")}var o=a("fGNU"),i=a("33wi"),r=a("VU/8"),s=n,c=r(o.a,i.a,s,"data-v-51142482",null);e.a=c.exports},"42Hy":function(t,e,a){"use strict";function n(t){a("zVtv")}var o=a("DK6z"),i=a("sOxk"),r=a("VU/8"),s=n,c=r(o.a,i.a,s,"data-v-35069178",null);e.a=c.exports},"5fHw":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"book"},[a("div",{staticClass:"book-img"},[a("img",{attrs:{src:t.book.book.image}})]),t._v(" "),a("div",{staticClass:"book-title"},[a("a",{staticClass:"book-href",attrs:{href:t.book.book.alt,target:"_blank",title:t.book.book.summary}},[t._v(t._s(t.book.book.title))])])])},o=[],i={render:n,staticRenderFns:o};e.a=i},"6jQY":function(t,e){},"97Wg":function(t,e){},DK6z:function(t,e,a){"use strict";e.a={name:"index"}},EYnv:function(t,e){},"F4/v":function(t,e,a){"use strict";function n(t){a("6jQY")}var o=a("Fex2"),i=a("5fHw"),r=a("VU/8"),s=n,c=r(o.a,i.a,s,"data-v-40e0c833",null);e.a=c.exports},Fex2:function(t,e,a){"use strict";e.a={name:"book",props:["book"]}},J6Dj:function(t,e){},M93x:function(t,e,a){"use strict";function n(t){a("rSzB")}var o=a("xJD8"),i=a("258w"),r=a("VU/8"),s=n,c=r(o.a,i.a,s,null,null);e.a=c.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),o=a("M93x"),i=a("YaEn");n.a.config.productionTip=!1,new n.a({el:"#app",router:i.a,template:"<App/>",components:{App:o.a}})},O7pu:function(t,e,a){"use strict";var n=a("7t+N"),o=a.n(n),i="https://api.douban.com/v2/";e.a={getBooks:function(t){return o.a.ajax({async:!1,url:i+"/book/user/"+t+"/collections?count=100",dataType:"jsonp"})},getUserDetail:function(t){return o.a.ajax({async:!1,url:i+"/user/"+t,dataType:"jsonp"})}}},YaEn:function(t,e,a){"use strict";var n=a("7+uW"),o=a("/ocq"),i=a("42Hy"),r=a("sm9T"),s=a("3GDu");n.a.use(o.a),e.a=new o.a({routes:[{path:"/",name:"Index",component:i.a},{path:"/read",name:"Read",component:r.a},{path:"/map",name:"Map",component:s.a}]})},YtQ0:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"read"},[a("div",{staticClass:"content"},[a("div",{staticClass:"gallery"},[a("div",{staticClass:"book-group"},[a("div",{staticClass:"book-group-title"},[t._v("正在读("+t._s(t.reading.length)+"本)")]),t._v(" "),a("div",{staticClass:"book-group-content"},t._l(t.reading,function(t){return a("div",{key:t.book_id,staticClass:"book-container"},[a("book",{attrs:{book:t}})],1)}))]),t._v(" "),a("div",{staticClass:"book-group"},[a("div",{staticClass:"book-group-title"},[t._v("已经读过("+t._s(t.read.length)+"本)")]),t._v(" "),a("div",{staticClass:"book-group-content"},t._l(t.read,function(t){return a("div",{key:t.book_id,staticClass:"book-container"},[a("book",{attrs:{book:t}})],1)}))]),t._v(" "),a("div",{staticClass:"book-group"},[a("div",{staticClass:"book-group-title"},[t._v("打算读("+t._s(t.wish.length)+"本)")]),t._v(" "),a("div",{staticClass:"book-group-content"},t._l(t.wish,function(t){return a("div",{key:t.book_id,staticClass:"book-container"},[a("book",{attrs:{book:t}})],1)}))])])])])},o=[],i={render:n,staticRenderFns:o};e.a=i},bIJp:function(t,e,a){"use strict";var n=a("O7pu"),o=a("F4/v");e.a={name:"read",components:{Book:o.a},data:function(){return{userId:"151041935",wish:[],reading:[],read:[]}},mounted:function(){this.getBooks()},methods:{getBooks:function(){var t=this;n.a.getBooks(this.userId).done(function(e){e.collections.forEach(function(e){t[e.status].push(e)})})}}}},c1QF:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("h1",{staticClass:"title"},[t._v("一闪一闪亮晶晶，漫天都是小星星，OPQ，RST，UVWXYZ...")])])}],i={render:n,staticRenderFns:o};e.a=i},fGNU:function(t,e,a){"use strict";var n=a("BO1k"),o=a.n(n),i=a("ifoU"),r=a.n(i),s=a("nrd6"),c=a.n(s),u=a("xgRk"),l=(a.n(u),a("EYnv")),d=(a.n(l),void 0),v=void 0;e.a={name:"Map",data:function(){return{records:new r.a,zoom:17}},mounted:function(){var t=this;c.a.addTdtSupport(),d=c.a.map("map",{maxZoom:20,crs:c.a.CRS.EPSG4326}).setView([31.269887,121.539449],15),new c.a.TdtLayer({type:"emap",labelVisible:!0}).addTo(d),d.on("moveend zoomend",function(){t.zoom=d.getZoom(),15===d.getZoom()&&t.loadData()}),v=c.a.featureGroup(),v.addTo(d)},methods:{loadData:function(){var t=this,e=d.getBounds(),a="/api/v4/online/house/ershoufang/listMapResult?access_token=7poanTTBCymmgE0FOn1oKp&client=pc&cityCode=sh&type=plate&minLatitude="+e.getSouth()+"&maxLatitude="+e.getNorth()+"&minLongitude="+e.getWest()+"&maxLongitude="+e.getEast()+"&siteType=quyu";fetch(a).then(function(t){return t.json()}).then(function(e){var a=e.dataList,n=!0,i=!1,r=void 0;try{for(var s,c=o()(a);!(n=(s=c.next()).done);n=!0){var u=s.value;t.records.get(u.dataId)||(t.records.set(u.dataId,u),t.addMarker(u))}}catch(t){i=!0,r=t}finally{try{!n&&c.return&&c.return()}finally{if(i)throw r}}})},output:function(){var t="",e=!0,a=!1,n=void 0;try{for(var i,r=o()(this.records.values());!(e=(i=r.next()).done);e=!0){var s=i.value;t+=s.dataId+"\t"+s.latitude+"\t"+s.longitude+"\t"+s.dealAvgPrice+"\t"+s.saleAvgPrice+"\n"}}catch(t){a=!0,n=t}finally{try{!e&&r.return&&r.return()}finally{if(a)throw n}}console.log(t)},getSize:function(){alert(this.records.size)},addMarker:function(t){var e=c.a.circleMarker([t.latitude,t.longitude]);v.addLayer(e)}}}},mmY7:function(t,e){},rSzB:function(t,e){},sOxk:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("div",{staticClass:"info"},[a("h1",{staticClass:"title"},[t._v("大洪小站")]),t._v(" "),a("div",{staticClass:"link"},[a("router-link",{attrs:{to:{name:"Read"}}},[t._v("读书")]),t._v(" "),a("router-link",{attrs:{to:{name:"Read"}}},[t._v("读书")]),t._v(" "),a("router-link",{attrs:{to:{name:"Read"}}},[t._v("读书")])],1)])])},o=[],i={render:n,staticRenderFns:o};e.a=i},sm9T:function(t,e,a){"use strict";function n(t){a("97Wg")}var o=a("bIJp"),i=a("YtQ0"),r=a("VU/8"),s=n,c=r(o.a,i.a,s,"data-v-d4a26f40",null);e.a=c.exports},teIl:function(t,e,a){"use strict";function n(t){a("J6Dj")}var o=a("c1QF"),i=a("VU/8"),r=n,s=i(null,o.a,r,"data-v-907c0d52",null);e.a=s.exports},xJD8:function(t,e,a){"use strict";var n=a("teIl");e.a={name:"app",components:{vheader:n.a}}},xgRk:function(t,e){L.addTdtSupport=function(){var t=L.Util.extend({},L.CRS.Earth,{code:"EPSG:4490",projection:L.Projection.LonLat,transformation:new L.Transformation(1/360,.5,-1/360,.25)});L.Map.addInitHook(function(){this.options.maxZoom=20,this.options.crs=t}),L.TdtLayer=L.LayerGroup.extend({__layers:{},options:{maxZoom:20},_templates:{wmts:"{url}?request=GetTile&version={version}&service=WMTS&layer={layer}&format={format}&TileMatrix={z}&TileMatrixSet={wmts_tile_matrixset}&TileCol={x}&TileRow={y}&style={style}"},initialize:function(t){L.Util.setOptions(this,{type:t.type||"emap",labelVisible:void 0===t.labelVisible||t.labelVisible}),L.LayerGroup.prototype.initialize.apply(this,[])},addTo:function(){this._tmap=arguments[0],this._tmap.on("moveend zoomend",this._reloadSource,this),L.LayerGroup.prototype.addTo.apply(this,arguments),this._reloadSource()},_reloadSource:function(t,e){var a=this._tmap.getZoom(),n=this._tmap.getBounds().toBBoxString(),o=this;this._ajaxTimer&&clearTimeout(this._ajaxTimer),this._ajaxTimer=setTimeout(function(){var t=document.createElement("script");t.setAttribute("id","request_script"),t.src="http://114.215.249.22//api/maplayer/current?_cb=tdt_callback&bbox="+n+"&zoom="+a+"&t="+Date.now(),window.tdt_callback=function(t){document.body.removeChild(document.getElementById("request_script")),o._resetLayers(t.content)},document.body.appendChild(t)},500)},_resetLayers:function(t){var e="emap"==this.options.type?"road":"img",a=this.options.labelVisible,n=new RegExp("\\b"+e+"\\b"),o=t.filter(function(t){return a?n.test(t.tags):n.test(t.tags)&&t.tags.indexOf("label")<0}).sort(function(t,e){return t.zindex>e.zindex}),i={},r=this;o.forEach(function(t){if(i[t.id]=!0,!r.__layers[t.id]){var e=r._generateLayer(t);r.__layers[t.id]=e,r.addLayer(e)}});for(var s in this.__layers){var c=this.__layers[s];i[s]||(this.removeLayer(c),delete this.__layers[s])}},_generateLayer:function(t){t.x="{x}",t.y="{y}",t.z="{z}";var e=L.Util.template(this._templates[t.ogctype],t),a={maxZoom:20,zIndex:(t.zindex||0)+5};return t.domain&&(a.subdomains=t.domain.replace(/,/g,"")),L.tileLayer(e,a)}})},L.tdtLayer=function(t){return new L.TdtLayer(t)}},zVtv:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b40a493a0c69f1279dcf.js.map